<form role="form" name="FlotaFormulario"><div ng-if="$root.cargando"><loading class="loading-div"></loading></div><div ng-if="cargando"><loading class="loading-div"></loading></div><body><div class="col-md-12 col-xs-12 cabfixed"><div class="cotistyle col-md-6 nopadding"><div class="col-md-12 wizard"><ul class="arrows"><li class="active"><a href="#!{{path}}">{{nombre}}</a></li></ul></div></div><div class="cotistyle botonescoti col-md-6 nopadding"><div class="cotistyle botonescoti col-md-7 col-md-offset-5"><div class="boton col-md-2" data-toggle="dropdown" ng-show="verificarCamposForm(camposEditablesList, &apos;imprimir&apos;)"><a href="" class="" aria-hidden="true"><a data-toggle="tooltip" data-placement="bottom" title="Imprimir"><img src="images/icon2.png" height="64"></a></a></div><div class="dropdown-menu" role="menu"><div class="col-md-12 nopadding nenuimp"><ul><li class="col-md-12" ng-click="service.descargarPDF(&apos;cartaOferta&apos;,&apos;Flota&apos;,flota.numeroCotizacion,pathModule)" ng-show="verificarCamposForm(camposEditablesList, &apos;imprimirCartaOferta&apos;)"><a ui-sref="restablecerpass">Imprimir carta oferta</a></li><li class="col-md-12" ng-click="service.descargarPDF(&apos;cartaPropuesta&apos;,&apos;Flota&apos;,flota.numeroCotizacion,pathModule)" ng-show="verificarCamposForm(camposEditablesList, &apos;imprimirPropuesta&apos;)"><a ui-sref="restablecerpass">Imprimir Propuesta</a></li></ul></div></div><div class="boton col-md-2" ng-show="!verificarCamposForm(camposEditablesList, &apos;imprimir&apos;)"><img src="images/iconprint_grey.png"></div><div class="boton col-md-2 col-xs-2" ng-show="verificarCamposForm(camposEditablesList, &apos;buscar&apos;)"><a data-toggle="tooltip" title="Buscar" data-placement="bottom" ng-click="showAdvanced()"><img src="images/icon8.png" height="64"></a></div><div class="boton col-md-2" ng-show="verificarCamposForm(camposEditablesList, &apos;cotizar&apos;) "><a data-toggle="tooltip" title="Cotizar" ng-click="guardar(&apos;E&apos;)"><img src="images/icon1.png" height="64"></a></div><div class="boton col-md-2" ng-show="!verificarCamposForm(camposEditablesList, &apos;cotizar&apos;) "><a data-toggle="tooltip" title="Cotizar"><img src="images/icon1grey.png" height="64"></a></div><div class="boton col-md-2" ng-show="verificarCamposForm(camposEditablesList, &apos;nuevo&apos;)"><a data-toggle="tooltip" title="Limpiar" ng-click="recargar()"><img src="images/icon6.png" height="64"></a></div><div class="boton col-md-2 col-xs-2" ng-show="verificarCamposForm(camposEditablesList, &apos;autorizacion&apos;)"><a data-toggle="tooltip" title="Lista Autorizaciones" data-placement="bottom" ng-click="llamarModal(&apos;listadoAutorizaciones&apos;)"><img src="images/icon4.png" height="64"></a></div><div class="boton col-md-2 col-xs-2" ng-show="!verificarCamposForm(camposEditablesList, &apos;autorizacion&apos;)"><a data-toggle="tooltip" title="Lista Autorizaciones" data-placement="bottom"><img src="images/icon4grey.png" height="64"></a></div><div class="boton col-md-2" ng-show="!verificarCamposForm(camposEditablesList, &apos;nuevo&apos;)"><a data-toggle="tooltip" title="Limpiar"><img src="images/icon6grey.png" height="64"></a></div></div></div></div><div class="row cotistyle col-md-12 col-xs-12" style="padding-top: 100px; padding-left: 1%"><div class="col-md-8 col-xs-12 nopadding gen-form nopaddingl scrollit"><div class="cotistyle col-xs-12 col-md-7 nopadding"><div class="col-xs-12 col-md-12"><div class="com-style col-xs-12 col-md-12 nopadding" style="margin-bottom: 3%;"><div class="col-xs-3 col-md-2 lab nopadding"><label class="label-stilo">Nro. Cotizaci&#xF3;n / Pol. Anterior:</label></div><div class="col-xs-8 col-md-6" style="padding-left: 1%"><div class="input-group inputicon" ng-class="{&apos;has-error&apos;:FlotaFormulario.numCoti.$error.required &amp;&amp; controlRequerido}"><input type="text" class="form-control" id="textCotizacion" name="numCoti" ng-model="flota.numeroCotizacion" ng-required="true" ng-disabled="!verificarCamposForm(camposEditablesList, &apos;numeroCotizacion&apos;) || habilitarBtnIrPropuesta==true " ng-enter="buscarCotizacion()"><div class="input-group-addon input-cursor" ng-click="buscarCotizacion()" ng-show="verificarCamposForm(camposEditablesList, &apos;numeroCotizacion&apos;) &amp;&amp;  habilitarBtnIrPropuesta==false"><div class=""><img src="images/lupa.png" height="15"></div></div><div class="input-group-addon block-cursor-coti" ng-show="verificarCamposForm(camposEditablesList, &apos;numeroCotizacion&apos;) &amp;&amp;  habilitarBtnIrPropuesta==true"><div class=""><img src="images/lupa.png" height="15"></div></div><div class="input-group-addon input-cursor" ng-show="!verificarCamposForm(camposEditablesList, &apos;numeroCotizacion&apos;)"><span><img src="images/lupa.png" height="15"></span></div></div></div><div class="col-md-4 col-xs-4 nopadding acciones"><a><button type="button" class="btn btn-info" ng-click="goToPropuesta()" ng-disabled="FlotaFormulario.numCoti.$invalid || habilitarBtnIrPropuesta==false">Ir a propuesta</button></a></div></div><div class="com-style col-md-12 col-xs-12 nopadding"><div class="com-style col-xs-8 col-md-8 nopadding"><div class="col-xs-5 col-md-5 lab nopadding"><label class="label-stilo" style="color: #55557b; font-weight: bold;font-size: 16px">Nuevo</label></div><div class="cotistyle col-xs-7 col-md-7"><label class="switch"><input type="checkbox" id="togBtn" ng-model="flota.nuevo" ng-false-value="&apos;S&apos;" ng-true-value="&apos;N&apos;" ng-disabled="!verificarCamposForm(camposEditablesList, &apos;nuevo/renovacion&apos;)"><div class="slider round"><span class="on"></span><span class="off"></span></div></label></div></div><div class="com-style col-xs-4 col-md-4"><div class="col-xs-5 col-md-6 nopadding lab"><label class="label-stilo" style="color: #55557b; font-weight: bold;font-size: 16px">Renovaci&#xF3;n</label></div><div class="col-xs-7 col-md-6"></div></div></div></div><div class="col-md-12"><div class="com-style col-xs-12 col-md-7 nopadding"><div class="col-xs-4 col-md-3 nopadding"><label class="label-stilo">Moneda:</label></div><div class="col-xs-8 col-md-9" ng-class="{&apos;has-error&apos;:FlotaFormulario.moneda.$error.required &amp;&amp; controlRequerido}"><select id="monedaselect" name="moneda" class="form-control" ng-model="flota.moneda" ng-required="true" ng-disabled="!verificarCamposForm(camposEditablesList, &apos;moneda&apos;) || flagMoneda" ng-options="moneda.id as (moneda.moneda) for moneda in listaMonedas"><option></option></select></div></div><div class="com-style col-xs-12 col-md-5 nopadding"><div class="col-xs-4 col-md-4 nopadding"><label class="label-stilo">Cambio:</label></div><div class="col-xs-8 col-md-8"><div class="input-group"><input type="text" class="form-control" id="textCambio" ng-model="flota.cambio" ng-disabled="!verificarCamposForm(camposEditablesList, &apos;cambio&apos;)"><div ng-click="llamarModal(&apos;cambio&apos;)" ng-show="verificarCamposForm(autorizacionesList, &apos;btnCambio&apos;) &amp;&amp; verificarCamposForm(camposEditablesList, &apos;autorizacion&apos;)" class="contk input-group-addon"><i class="fakey fa fa-key"></i></div></div></div></div></div></div><div class="col-md-5 col-xs-12 nopadding" style="padding-top: 1%"><div class="com-style col-xs-12 col-md-12"><div class="col-xs-5 col-md-4 nopadding lab"><label class="label-stilo">Producto:</label></div><div class="col-xs-7 col-md-8" ng-class="{&apos;has-error&apos;:FlotaFormulario.selectProd.$error.required &amp;&amp; controlRequerido}"><select id="selectProducto" name="selectProd" class="form-control" ng-model="flota.producto" ng-required="true" ng-disabled="!verificarCamposForm(camposEditablesList, &apos;producto&apos;)|| flagProducto" ng-options="productos.id as (productos.producto) for productos in listaProductos"><option value="" selected="selected">--Seleccionar--</option></select></div></div><div class="com-style col-xs-12 col-md-12"><div class="col-xs-5 col-md-4 nopadding lab"><label class="label-stilo">Tasa:</label></div><div class="col-xs-7 col-md-8"><div class="col-md-12 nopadding"><div class="input-group"><input type="text" class="form-control" id="textTasa" ng-disabled="!verificarCamposForm(camposEditablesList, &apos;tasa&apos;)" ng-model="flota.tasa"><div class="input-group-addon"><img src="images/porcen.png" height="15"></div><div ng-click="llamarModal(&apos;tasa&apos;)" ng-show="verificarCamposForm(autorizacionesList, &apos;btnTasa&apos;) &amp;&amp; verificarCamposForm(camposEditablesList, &apos;autorizacion&apos;)" class="contk input-group-addon"><i class="fakey fa fa-key"></i></div></div></div></div></div><div class="com-style col-xs-12 col-md-12"><div class="col-xs-5 col-md-4 lab nopadding"><label class="label-stilo">Fraccionamiento:</label></div><div class="col-xs-7 col-md-8" ng-class="{&apos;has-error&apos;:FlotaFormulario.fracc.$error.required &amp;&amp; controlRequerido}"><select id="formaPagoselect" class="form-control" ng-model="flota.formaPago" ng-change="changeFraccionamiento()" name="fracc" ng-required="true" ng-disabled="!verificarCamposForm(camposEditablesList, &apos;fraccion&apos;)" ng-options="pago.id as (pago.fraccion) for pago in listaFormaPago"><option value="" selected="selected">--Seleccionar--</option><option></option></select></div></div></div><div class="cotistyle col-md-12 col-lg-12"><h5 class="tit-cobcot nopadding">Cobertura</h5><div ng-show="mostrardatos" class="col-md-12 nopadding"><div ng-repeat="v in Coberturas" class="com-style col-xs-12 col-md-3 nopadding"><div class="col-xs-5 col-md-6 lab nopadding"><label class="label-stilo">{{v.ETIQUETA}}:</label></div><div ng-if="v.ETIQUETA===&apos;RC PERSONAS&apos;" class="col-xs-7 col-md-6 nopadding" ng-class="{&apos;has-error&apos;:FlotaFormulario.persona.$error.required &amp;&amp; controlRequerido}"><input type="text" ng-model="cobertura.persona" moneda="" name="persona" ng-required="true" ng-disabled="!verificarCamposForm(camposEditablesList, &apos;cobertura&apos;)" class="form-control" ng-blur="verificarMontoCobertura(v)"></div><div ng-if="v.ETIQUETA===&apos;RC MATERIALES&apos;" class="col-xs-7 col-md-6 nopadding" ng-class="{&apos;has-error&apos;:FlotaFormulario.danhosMateriales.$error.required &amp;&amp; controlRequerido}"><input type="text" ng-model="cobertura.danhosMateriales" moneda="" name="danhosMateriales" ng-required="true" ng-disabled="!verificarCamposForm(camposEditablesList, &apos;cobertura&apos;)" class="form-control" ng-blur="verificarMontoCobertura(v)"></div><div ng-if="v.ETIQUETA===&apos;OVP MUERTE&apos;" class="col-xs-7 col-md-6 nopadding" ng-class="{&apos;has-error&apos;:FlotaFormulario.ovpMteOcupante.$error.required &amp;&amp; controlRequerido}"><input type="text" ng-model="cobertura.ovpMteOcupante" moneda="" name="ovpMteOcupante" ng-required="true" ng-disabled="!verificarCamposForm(camposEditablesList, &apos;cobertura&apos;)" class="form-control" ng-blur="verificarMontoCobertura(v)"></div><div ng-if="v.ETIQUETA===&apos;OVP GTOS MED&apos;" class="col-xs-7 col-md-6 nopadding" ng-class="{&apos;has-error&apos;:FlotaFormulario.ovpGtoMedOcupante.$error.required &amp;&amp; controlRequerido}"><input type="text" ng-model="cobertura.ovpGtoMedOcupante" moneda="" name="ovpGtoMedOcupante" ng-required="true" ng-disabled="!verificarCamposForm(camposEditablesList, &apos;cobertura&apos;)" class="form-control" ng-blur="verificarMontoCobertura(v)"></div></div></div><div ng-show="!mostrardatos" class="col-md-12 col-xs-12 nopadding" aria-hidden="false" style="color:  #ccc; margin-left: 3%;"><h3><i class="fa fa-exclamation-circle"></i> No hay datos</h3></div></div></div><div class="cotistyle col-md-4 form-pago"><div class="cotistyle col-md-6 col-xs-12 form-pago1 nopadding"><div class="col-md-12 col-xs-12 nopadding rescab" style="border-bottom: solid 1px #f5f5f5; background: #ca2222;"><div class="com-style"><div class="col-xs-6 col-md-6 nopadding"><label class="label-stilo tit-pago" style="color: #fff;">Resumen</label></div></div></div><div class="col-md-12 col-xs-12 formp"><div class="col-md-12 col-xs-12 nopadding"><div class="col-xs-7 col-md-6 nopadding" style="margin-top: 10px"><label class="label-stilotcoti nop">Prima:</label></div><div class="col-xs-5 col-md-6" style="margin-top: 10px"><label class="label-stilo">{{resumen.prima | number:0}}</label></div></div><div class="col-md-12 col-xs-12 nopadding"><div class="col-xs-7 col-md-6 nopadding" style="margin-top: 10px"><label class="label-stilotcoti">Recargo:</label></div><div class="col-xs-5 col-md-6" style="margin-top: 10px"><label class="label-stilo">{{resumen.recargo | number:0}}</label></div></div><div class="col-md-12 col-xs-12 nopadding"><div class="col-xs-7 col-md-6 nopadding" style="margin-top: 10px"><label class="label-stilotcoti">Premio:</label></div><div class="col-xs-5 col-md-6" style="margin-top: 10px"><label class="label-stilo">{{resumen.premio | number:0}}</label></div></div><div class="col-md-12 col-xs-12 nopadding"><div class="col-xs-7 col-md-6 nopadding" style="margin-top: 10px"><label class="label-stilotcoti">A&#xF1;o Promedio:</label></div><div class="col-xs-5 col-md-6" style="margin-top: 10px"><label class="label-stilo">{{resumen.anhoPromedio | number:0}}</label></div></div><div class="col-md-12 col-xs-12 nopadding"><div class="col-xs-7 col-md-6 nopadding" style="margin-top: 10px"><label class="label-stilotcoti">Capital Promedio:</label></div><div class="col-xs-5 col-md-6" style="margin-top: 10px"><label class="label-stilo">{{resumen.capitalPromedio | number:0}}</label></div></div><div class="col-md-12 col-xs-12 nopadding"><div class="col-xs-7 col-md-6 nopadding" style="margin-top: 10px"><label class="label-stilotcoti">Suma Asegurada:</label></div><div class="col-xs-5 col-md-6" style="margin-top: 10px"><label class="label-stilo">{{resumen.sumaAsegurada | number:0}}</label></div></div><div class="col-md-12 col-xs-12 nopadding"><div class="col-xs-7 col-md-6 nopadding" style="margin-top: 10px"><label class="label-stilotcoti">Cant. Riesgos:</label></div><div class="col-xs-5 col-md-6" style="margin-top: 10px"><label class="label-stilo">{{resumen.cantRiesgoAlta | number:0}}</label></div></div></div></div><div class="cotistyle tablarroj2 col-md-6 col-xs-12 form-pago1 nopadding"><div class="col-xs-12 col-md-12 nopadding" style="border-bottom: solid 1px #f5f5f5; background: #ca2222;"><div class="com-style"><div class="col-xs-12 col-md-12 nopadding"><label class="label-stilo tit-pago" style="color: #fff;">Marcas con mayores riesgos</label></div></div></div><div class="cotistyle col-md-12 col-xs-12 formp"><div class="col-md-12 col-xs-12 nopadding"><div class="col-xs-6 col-md-12" style="margin-top: 10px"><label class="label-stilo">{{marcasRiesgo.audi}}</label></div></div><div class="col-md-12 col-xs-12 nopadding"><div class="col-xs-6 col-md-12" style="margin-top: 10px"><label class="label-stilo">{{marcasRiesgo.chevrolet}}</label></div></div><div class="col-md-12 col-xs-12 nopadding"><div class="col-xs-6 col-md-12" style="margin-top: 10px"><label class="label-stilo">{{marcasRiesgo.volvo}}</label></div></div><div class="col-md-12 col-xs-12 nopadding"><div class="col-xs-6 col-md-12" style="margin-top: 10px"><label class="label-stilo">{{marcasRiesgo.mercedez}}</label></div></div><div class="col-md-12 col-xs-12 nopadding"><div class="col-xs-6 col-md-12" style="margin-top: 10px"><label class="label-stilo">{{marcasRiesgo.minicooper}}</label></div></div></div></div></div><br><br></div><div class="row col-md-12 col-xs-12" style="margin-top: 1% !important;"><div class="col-md-4 col-xs-12 nopadding acciones"><button type="button" class="btn btn-info mybuton" ng-disabled="!verificarCamposForm(camposEditablesList, &apos;agregar&apos;)|| habilitaAgregar" ng-click="guardar(&apos;A&apos;)"><img src="images/add.png" height="15"> Agregar</button> <button type="button" class="btn btn-info mybuton1f" ng-click="exportar()"><img src="images/export.png" height="15" ng-disabled="!verificarCamposForm(camposEditablesList, &apos;exportar&apos;)"> Exportar</button></div></div><br><br><div class="col-xs-12 contgrigff nopadding"><table st-table="displayedCollection" st-safe-src="rowCollection" class="table table-filtro tableflota" wt-responsive-table=""><thead><tr><th st-sort="numeroRiesgo">Nro. Riesgo</th><th st-sort="marca">Marca</th><th st-sort="modelo">Modelo</th><th st-sort="subModelo">Sub Modelo</th><th st-sort="anho">A&#xF1;o</th><th st-sort="ocupantes">Ocupantes</th><th st-sort="capital">Capital</th><th st-sort="baja">Baja</th><th>Editar</th></tr></thead><tbody><tr ng-repeat="row in displayedCollection" st-select-row="row" st-select-mode=""><td>{{row.numeroRiesgo}}</td><td>{{row.marca | uppercase}}</td><td>{{row.modelo | uppercase}}</td><td>{{row.subModelo | uppercase}}</td><td>{{row.anho }}</td><td>{{row.ocupantes }}</td><td>{{row.capital | number }}</td><td ng-if="row.baja==&apos;S&apos;">SI</td><td ng-if="row.baja==&apos;N&apos;">NO</td><td><button type="button" ng-click="editRow(row)" ng-disabled="!verificarCamposForm(camposEditablesList, &apos;edita&apos;)" class="btn btn-primary btn-xs"><i class="glyphicon glyphicon-pencil"></i></button></td></tr></tbody></table><table ng-if="displayedCollection.length==0" st-table="displayedCollection" class="col-xs-12 col-md-12 visible-xs"><thead><tr></tr></thead><tbody><tr><td colspan="12" style="border: 1px solid rgba(144, 138, 138, 0.12)  !important;"><no-data></no-data></td></tr></tbody></table></div><div class="col-xs-12" style="text-align: center;" ng-show="displayedCollection.length&gt;0"><ul class="pagination"><li class="page-item"><a class="page-link firstAndlast" href="" ng-click="cambiarPagina(1)" ng-class="{adisabled: anterior}">Primero</a></li><li class="page-item"><a class="page-link" href="" ng-click="anteriorPagina()" ng-class="{adisabled: anterior}">&#xAB;</a></li><li class="page-item"><a class="page-link" style="background-color: #c10003;
              color: white;">{{pagina}}/{{cantidadPaginas}}</a></li><li class="page-item"><a class="page-link" href="" ng-click="siguientePagina()" ng-class="{adisabled: siguiente}">&#xBB;</a></li><li class="page-item"><a class="page-link firstAndlast" href="" ng-click="cambiarPagina(cantidadPaginas)" ng-class="{adisabled: siguiente}">&#xDA;ltimo</a></li></ul></div></body></form><div class="modal fade" id="cambioPassModal" role="dialog"><div class="modal-dialog" style="width: 60%;"><div class="cotistyle modal-content" id="cambioPassModal"><div class="modal-header"><button type="button" class="close" data-dismiss="modal">&#xD7;</button><h4 class="modal-title" style="color:white">Previsualizaci&#xF3;n de documentos</h4></div><div class="text-center"><object type="application/pdf" data="{{pdf}}" width="800" height="1000"><param name="src" value=""></object></div></div></div></div>